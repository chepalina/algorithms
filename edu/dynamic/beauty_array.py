# ะะฐะผ ะดะฐะฝ ะผะฐััะธะฒ ๐
# ัะพััะพััะธะน ะธะท ๐
# ัะตะปัั ัะธัะตะป. ะัะฐัะพัะฐ ะผะฐััะธะฒะฐ โ ััะพ ะผะฐะบัะธะผะฐะปัะฝะฐั ััะผะผะฐ ะบะฐะบะพะณะพ-ัะพ ะฟะพัะปะตะดะพะฒะฐัะตะปัะฝะพะณะพ ะฟะพะดะพััะตะทะบะฐ ััะพะณะพ ะผะฐััะธะฒะฐ (ััะพั ะฟะพะดะพััะตะทะพะบ ะผะพะถะตั ะฑััั ะฟััััะผ). ะะฐะฟัะธะผะตั ะบัะฐัะพัะฐ ะผะฐััะธะฒะฐ [10, -5, 10, -4, 1] ัะฐะฒะฝะฐ 15, ะฐ ะบัะฐัะพัะฐ ะผะฐััะธะฒะฐ [-3, -5, -1] ัะฐะฒะฝะฐ 0.
#
# ะั ะผะพะถะตัะต ะฒัะฑัะฐัั ะฝะต ะฑะพะปะตะต ะพะดะฝะพะณะพ ะฟะพัะปะตะดะพะฒะฐัะตะปัะฝะพะณะพ ะฟะพะดะพััะตะทะบะฐ ะผะฐััะธะฒะฐ ๐
# ะธ ะดะพะผะฝะพะถะธัั ะฒัะต ัะปะตะผะตะฝัั ััะพะณะพ ะฟะพะดะพััะตะทะบะฐ ะฝะฐ ๐ฅ
# . ะั ัะพัะธัะต ะผะฐะบัะธะผะธะทะธัะพะฒะฐัั ะบัะฐัะพัั ะผะฐััะธะฒะฐ ะฟะพัะปะต ะฟัะธะผะตะฝะตะฝะธั ัะฐะบะพะน ะพะฟะตัะฐัะธะธ.
#
# ะัะพะดะฝัะต ะดะฐะฝะฝัะต
# ะะตัะฒะฐั ัััะพะบะฐ ัะพะดะตัะถะธั ะดะฒะฐ ัะตะปัั ัะธัะปะฐ ๐
# ะธ ๐ฅ
# (1โค๐โค3โ105,โ100โค๐ฅโค100
#  ) โ ะดะปะธะฝะฐ ะผะฐััะธะฒะฐ ๐
# ะธ ัะธัะปะพ ๐ฅ
# ัะพะพัะฒะตัััะฒะตะฝะฝะพ.
#
# ะัะพัะฐั ัััะพะบะฐ ัะพะดะตัะถะธั ๐
# ัะตะปัั ัะธัะตะป ๐1,๐2,โฆ,๐๐
# (โ109โค๐๐โค109
#  ) โ ัะฐะผ ะผะฐััะธะฒ ๐
# .
#
# ะััะพะดะฝัะต ะดะฐะฝะฝัะต
# ะัะฒะตะดะธัะต ะพะดะฝะพ ัะธัะปะพ โ ะผะฐะบัะธะผะฐะปัะฝัั ะบัะฐัะพัั ะผะฐััะธะฒะฐ ๐
# ะฟะพัะปะต ะฝะต ะฑะพะปะตะต ะพะดะฝะพะณะพ ะดะพะผะฝะพะถะตะฝะธั ะฝะตะฟัะตััะฒะฝะพะณะพ ะฟะพะดะพััะตะทะบะฐ ััะพะณะพ ะผะฐััะธะฒะฐ ะฝะฐ ๐ฅ


# -1 -2 4 -3 -6 1

#   -3 8 -2 1 -6
# -2

# dp[0] = 0 8 6 7 1
# dp[1] = 6-10 12 10 22
# dp[2] = -3 14 12 13 7

a = [-3, 8, -2, 1, -6]
x = -2
n = len(a)
dp = [[0 for _ in range(n + 1)] for _ in range(3)]
ans = 0

dp[0][0] = max(0, a[0])
dp[1][0] = dp[0][0] + a[0] * x
dp[2][0] = max(dp[0][0], dp[1][0]) + a[0]

for i in range(1, n):
    dp[0][i] = max(0, dp[0][i - 1]) + a[i]
    dp[1][i] = max(dp[0][i - 1], dp[1][i - 1]) + a[i] * x
    dp[2][i] = max(dp[0][i - 1], dp[1][i - 1], dp[2][i - 1]) + a[i]

    ans = max(ans, dp[0][i], dp[1][i], dp[2][i])

print(ans)
